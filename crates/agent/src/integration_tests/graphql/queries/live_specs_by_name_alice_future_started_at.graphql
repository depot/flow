# Queries Alice's materialization by name.
# For Alice, this is expected to just return the materialization.
# For Bob, this is expected to return an authZ error that can be retried because the
# startedAt parameter is after the timestamp of the last snapshot refresh.
query LiveSpecsByNameAlice {
    liveSpecs(
        by: { names: ["aliceCo/private/capture"] }
        startedAt: "2035-10-01T01:01:01Z"
    ) {
        edges {
            node {
                catalogName
                userCapability
                liveSpec {
                    isDisabled
                    model
                }
                activeAlerts {
                    alertType
                }
                alertHistory(last: 20) {
                    edges {
                        node {
                            firedAt
                        }
                    }
                }
                status {
                    summary
                }
            }
        }
    }
}
